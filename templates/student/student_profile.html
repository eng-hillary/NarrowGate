{% extends '../base/base.html' %}

{% block title %}
  Student
{% endblock %}

{% block content %}
  <div class="row mt-5 mb-3 d-flex d-flex">
    <div class="col-sm-12 col-lg-4 mt-2 mb-3">
      <div class="card shadow">
        <div class="card-header bg-white h6">Student's Information</div>
            <div class="card-body no-border">
              <div class="row">
                <div class="col">
                  <img class="float-center rounded-circle account-img my-2" style="width:80px; height: 80px;" src="https://media.istockphoto.com/id/1275847596/es/foto/ni%C3%B1a-primaria-con-m%C3%A1scara-protectora-en-la-escuela.webp?s=612x612&w=is&k=20&c=l-bHuFK3PLvaI7zQlDZxHkVF7VNrOwLAPUHvNkyljbY=" alt="Student photo" />
                
                  <p class="card-text">
                    <i style="margin-right: 5px;">Student Number</i>
                    <b style="margin-left: 5px;">{{ student.student_number }}</b>
                  </p>
                  <p class="card-text">
                    <i style="margin-right: 5px;">First Name</i>
                    <b style="margin-left: 5px;">{{ student.first_name }}</b>
                  </p>
                  <p class="card-text">
                    <i style="margin-right: 5px;">Last Name</i>
                    <b style="margin-left: 5px;">{{ student.last_name }}</b>
                  </p>
                  <p class="card-text">
                    <i style="margin-right: 5px;">Date Of Birth</i>
                    <b style="margin-left: 5px;">{{ student.birth_date }}</b>
                  </p>
                  <p class="card-text">
                    <i style="margin-right: 5px;">Address</i>
                    <b style="margin-left: 5px;">{{ student.address }}</b>
                  </p>
                  <p class="card-text">
                    <i style="margin-right: 5px;">Class</i>
                    <b style="margin-left: 5px;">{{ student.current_class }}</b>
                  </p>
                  <p class="card-text">
                    <i style="margin-right: 5px;">Term</i>
                    <b style="margin-left: 5px;">{{ student.current_term }}</b>
                  </p>
                  <p class="card-text">
                    <i style="margin-right: 5px;">Home Phone</i>
                    <b style="margin-left: 5px;">{{ student.phone }}</b>
                  </p>
                </div>
              </div>
            </div>
         
          <div class="card-footer mt-2 bg-transparent">
            <a href="{% url 'student:student-detail' student.id %}" role="role" class="btn btn-success">DETAILS</a>
            <a href="{% url 'student:student-update' student.id %}" role="role" class="btn btn-success">ENROLL</a>
            <a href="{% url 'student:student-delete' student.id %}" role="role" class="btn btn-danger">DELETE</a>
          </div>   
      </div>
    </div>

    <div class="col-sm-12 col-lg-8">
      <div class="row bg-light mt-2 mb-3 mx-2">
        <div class="col-sm-3 mx-1 bg-danger">
          <div class="row">
           <div class="col">Dues</div>
            <div class="col">1200</div>
          </div>
        </div>
        <div class="col-sm-3 mx-1 bg-info">
          Attendance
        </div>
        <div class="col-sm-3 mx-1 bg-success">
          Savings
        </div>


      </div>
      {% if arears %}
       <div class="col">
        <div class="card shadow">
          <div class="card-header bg-transparent">
            <h6>Payments</h6>
          </div>
          <div class="card-body">
            <table class="table table-striped table-hover">
              <thead class="bg-success">
                <tr>
                  <th scope="col" class="text-light">Fee</th>
                  <th scope="col" class="text-light">Paid</th>
                  <th scope="col" class="text-light">Dues</th>
                 
                </tr>
              </thead>
              <tbody>
                {% for arear in arears %}
                <tr>
                  <td>{{arear.fee}}</td>
                  <td>{{arear.amount_paid}}</td>
                  <td class="text-danger">{{arear.pending_balance}}</td>
                </tr>
                {% endfor %}
            
           
          </tbody>
        </table>
          </div>
          <div class="card-footer bg-transparent">
            <a href="#" role="button" class="btn btn-success m-1">VIEW PAYMENTS</a>
            <a  href="{% url 'payment:payment-create' student.student_number %}" role="button" class="btn btn-success m-1">ADD PAYMENT</a>
 
            {% comment %} <button href="#addPaymentModal" type="button" class="btn btn-success m-1" data-bs-toggle="modal"> ADD PAYMENT </button> {% endcomment %}
          </div>
        </div>
        </div>
        {% endif %}

    </div>
  </div>

  
  
{% endblock %}
